{"ast":null,"code":"import _defineProperty from\"/Users/joshuaadams/Documents/BOM/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/joshuaadams/Documents/BOM/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/joshuaadams/Documents/BOM/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/joshuaadams/Documents/BOM/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/joshuaadams/Documents/BOM/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import{useSnackbar}from'notistack';import Select from'react-select';import axios from\"axios\";import{useParams,useHistory,useLocation}from\"react-router-dom\";import ReactInputDateMask from'react-input-date-mask';import{useUser}from\"../../../Components/Hooks/useUser\";import Tab1 from'./Tabs/Tab1';import{jsx as _jsx}from\"react/jsx-runtime\";var MyProfile=function MyProfile(props){var _useState=useState({UserID:0,UserName:'',FirstName:'',LastName:'',Email:'',Phone:'',UserLastModified:'',MiddleName:'',FullName:'',UserEnabled:true,BP_DOB:'',BP_SubscribeNews:false,BP_SubscribeMag:false,UserIsEditor:false,UserIsGlobalAdministrator:false,UserCreated:'',UserGUID:'',Privilege:0}),_useState2=_slicedToArray(_useState,2),bomUser=_useState2[0],setFields=_useState2[1];var params=useParams();var history=useHistory();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),contentLoaded=_useState4[0],setContentLoaded=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var userid=params.userid;var user=useUser();//if(userid === undefined || user === null)\n//{\n//send user to login page\n// history.push('/login');\n//}\nvar _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar,closeSnackbar=_useSnackbar.closeSnackbar;useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.prev=1;_context.next=4;return axios('https://bomreactapi.azurewebsites.net/users/getusersinfo?userid='+userid);case 4:result=_context.sent;//alert(JSON.stringify(fields));\n//console.log(JSON.stringify(result.data));\nif(result.data){setFields(result.data);}//alert(JSON.stringify(fields));\n//enqueueSnackbar('User fetch success');\n_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setError(true);//enqueueSnackbar('User fetch failed');\ncase 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();if(!contentLoaded){//getSupportingLists();\nfetchData();setContentLoaded(true);setIsLoading(false);}},[]);//build lists for dropdown selects\nvar privilegeLevelList=[{value:0,label:\"Normal User\"},{value:1,label:\"Editor\"},{value:2,label:\"Administrator\"},{value:3,label:\"Global Administrator\"}];var userTabs=[{title:'General',value:'General'},{title:'Settings',value:'Settings'},{title:'Roles',value:'Roles'}];function handleCheckboxChange(input){var target=input.target;var value=target.type==='checkbox'?target.checked:target.value;var name=target.id;console.log(name,value);setFields(_objectSpread(_objectSpread({},bomUser),{},_defineProperty({},name,value)));}//handlefieldchange\nfunction handleFieldChange(input){var target=input.target;var value=target.value;var name=target.id;console.log(name,value);setFields(_objectSpread(_objectSpread({},bomUser),{},_defineProperty({},name,value)));}function handlePrivilegeLevelChange(input){console.log(input);setFields(_objectSpread(_objectSpread({},bomUser),{},{Privilege:input.value}));}var handleCancel=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('cancel');case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function handleCancel(_x){return _ref2.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();console.log(JSON.stringify(bomUser));axios.post('https://bomreactapi.azurewebsites.net/users/save',bomUser)//.then(response => console.log(response))\n.then(function(response){console.log(response);enqueueSnackbar(\"User Saved\");}).catch(function(error){console.log(error.message);enqueueSnackbar(error.message);});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function handleSubmit(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"section\",{id:\"first-tab-group\",class:\"tabgroup\",children:/*#__PURE__*/_jsx(Tab1,{})})});};export default MyProfile;","map":{"version":3,"names":["React","useState","useEffect","useSnackbar","Select","axios","useParams","useHistory","useLocation","ReactInputDateMask","useUser","Tab1","MyProfile","props","UserID","UserName","FirstName","LastName","Email","Phone","UserLastModified","MiddleName","FullName","UserEnabled","BP_DOB","BP_SubscribeNews","BP_SubscribeMag","UserIsEditor","UserIsGlobalAdministrator","UserCreated","UserGUID","Privilege","bomUser","setFields","params","history","contentLoaded","setContentLoaded","isLoading","setIsLoading","error","setError","userid","user","enqueueSnackbar","closeSnackbar","fetchData","result","data","privilegeLevelList","value","label","userTabs","title","handleCheckboxChange","input","target","type","checked","name","id","console","log","handleFieldChange","handlePrivilegeLevelChange","handleCancel","e","handleSubmit","preventDefault","JSON","stringify","post","then","response","catch","message"],"sources":["/Users/joshuaadams/Documents/BOM/src/Client/Pages/Profile/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { useSnackbar } from 'notistack';\nimport Select from 'react-select'\nimport axios from \"axios\"\nimport { useParams , useHistory, useLocation} from \"react-router-dom\"\nimport ReactInputDateMask from 'react-input-date-mask';\nimport { useUser } from \"../../../Components/Hooks/useUser\";\n\nimport Tab1 from './Tabs/Tab1'\n\nconst MyProfile = (props) => {\n  \n  const [bomUser, setFields] = useState({\n    UserID: 0,\n    UserName: '',\n    FirstName: '',\n    LastName: '',\n    Email:'',\n    Phone:'',\n    UserLastModified:'',\n    MiddleName:'',\n    FullName:'',\n    UserEnabled:true,\n    BP_DOB:'',\n    BP_SubscribeNews:false,\n    BP_SubscribeMag:false,\n    UserIsEditor:false,\n    UserIsGlobalAdministrator:false,\n    UserCreated:'',\n    UserGUID:'',\n    Privilege:0,\n  });\n\n  const params = useParams();\n  const history = useHistory();\n  const [contentLoaded, setContentLoaded] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const userid = params.userid;\n  const user = useUser();\n  //if(userid === undefined || user === null)\n  //{\n      //send user to login page\n     // history.push('/login');\n  //}\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  \n    useEffect(() => {\n      const fetchData = async () => {\n        setIsLoading(true);\n        try{\n            const result = await axios(\n              'https://bomreactapi.azurewebsites.net/users/getusersinfo?userid=' + userid,\n            );\n          //alert(JSON.stringify(fields));\n          //console.log(JSON.stringify(result.data));\n          if(result.data)\n          {\n            setFields(result.data);\n          }\n          //alert(JSON.stringify(fields));\n          //enqueueSnackbar('User fetch success');\n        }\n          catch(error){\n          setError(true)\n          //enqueueSnackbar('User fetch failed');\n        }        \n      };\n\n      if(!contentLoaded){\n        //getSupportingLists();\n        fetchData();\n        setContentLoaded(true);        \n        setIsLoading(false);\n      }\n  }, []);\n\n    //build lists for dropdown selects\n    const privilegeLevelList = [{ value: 0, label: \"Normal User\" }, { value:1,label:\"Editor\"}, { value:2, label:\"Administrator\"}, { value:3, label:\"Global Administrator\"}];\n    const userTabs = [{title: 'General', value: 'General'}, {title:'Settings', value: 'Settings'}, {title:'Roles', value: 'Roles'}, ];\n\n    function handleCheckboxChange(input){\n      const target = input.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.id;\n        console.log(name,value);\n        setFields({...bomUser,\n          [name]: value\n        });\n    }\n\n    //handlefieldchange\n    function handleFieldChange(input){\n        const target = input.target;\n        const value = target.value;\n        const name = target.id;\n        console.log(name,value);\n        setFields({...bomUser,\n          [name]: value\n        });\n    }\n\n    function handlePrivilegeLevelChange(input){\n        console.log(input);\n        setFields({...bomUser, Privilege: input.value});\n    }\n\n    const handleCancel = async e => {\n      console.log('cancel');\n      \n    }\n  \n    const handleSubmit = async e => {\n        e.preventDefault();\n\n        console.log(JSON.stringify(bomUser));\n\n        axios.post('https://bomreactapi.azurewebsites.net/users/save', bomUser)\n        //.then(response => console.log(response))\n        .then(response => {\n          console.log(response);\n          enqueueSnackbar(\"User Saved\");\n        })\n        .catch(error => {\n            console.log(error.message);\n            enqueueSnackbar(error.message);\n        });\n  }\n\nreturn (\n<form onSubmit={handleSubmit}>\n<section id=\"first-tab-group\" class=\"tabgroup\">\n        \n        \n        <Tab1/>\n        \n        \n       \n        \n        \n        \n      </section>\n</form>\n    );\n  }\n\n  export default MyProfile;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}